(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{304:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ee}));var a=n(28),r=n.n(a),l=(n(317),n(0)),o=n.n(l),c=n(120),i=n(550),u=n(6),s=n.n(u),d=n(12),f=n.n(d),m=n(65),h=n(81),g=n.n(h),y=function(){return window.ethereum},p=o.a.createContext({provider:void 0,signer:void 0,chainId:0,address:null,ensName:null}),b=function(e){var t=e.children,n=y(),a=Object(l.useState)(1),c=r()(a,2),i=c[0],u=c[1],s=Object(l.useMemo)((function(){return new m.ethers.providers.AlchemyProvider("kovan","eRvHBkwNnm65K0KiQbNihiTyjktIGtbo")}),[]),d=Object(l.useState)(),h=r()(d,2),b=h[0],x=h[1],E=Object(l.useState)(null),v=r()(E,2),w=v[0],k=v[1],S=Object(l.useState)(null),C=r()(S,2),O=C[0],j=C[1];return g()((function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return e=new m.ethers.providers.Web3Provider(n),t.t0=x,t.next=5,f.a.awrap(e.getSigner());case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[n]),Object(l.useEffect)((function(){if(n){var e=function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,f.a.awrap(n.request({method:"eth_accounts"}));case 3:(null==(e=t.sent)?void 0:e[0])&&k(e[0]);case 5:case"end":return t.stop()}}),null,null,null,Promise)},t=function(){n&&u(Number(n.chainId))};return e(),t(),n.on("accountsChanged",e),n.on("chainChanged",t),function(){null==n||n.off("accountsChanged",e),null==n||n.off("chainChanged",e)}}}),[n]),g()((function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b||!w){t.next=5;break}return t.next=3,f.a.awrap(b.provider.lookupAddress(w));case 3:e=t.sent,j(e);case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[b,w]),o.a.createElement(p.Provider,{value:{provider:s,signer:b,chainId:i,address:w,ensName:O}},t)},x=(p.Consumer,n(247)),E=n(156),v=n.n(E),w=o.a.createContext({load:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},clear:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},darkMode:!1,setDarkMode:function(e){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},title:"",setTitle:function(e){},body:"",setBody:function(e){}}),k=function(e){var t=e.children,n=Object(x.useColorScheme)(),a=Object(l.useState)("dark"===n),c=r()(a,2),i=c[0],u=c[1],s=Object(l.useState)(""),d=r()(s,2),m=d[0],h=d[1],g=Object(l.useState)(""),y=r()(g,2),p=y[0],b=y[1];return o.a.createElement(w.Provider,{value:{load:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(v.a.getItem("dark_mode"));case 2:e=t.sent,u("true"===e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},clear:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!1),e.next=3,f.a.awrap(v.a.removeItem("dark_mode"));case 3:case"end":return e.stop()}}),null,null,null,Promise)},darkMode:i,setDarkMode:function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(v.a.setItem("dark_mode",String(e)));case 2:u(e);case 3:case"end":return t.stop()}}),null,null,null,Promise)},title:m,setTitle:h,body:p,setBody:b}},t)};w.Consumer;var S=function(e){var t=e.children;return o.a.createElement(k,null,o.a.createElement(b,null,t))},C=n(3),O=n(80),j=n(33),P=n(66),F=n(26),T=Math.round(F.a.get("window").width),z=Math.round(F.a.get("window").height),B=T>980,D=z>667?{tiny:8,small:16,normal:32,large:48,huge:64}:{tiny:6,small:12,normal:24,large:32,huge:48},M={common:{white:"#ffffff",transparent:"#ffffff00",primary:"#291C64",secondary:"#9BECEE",green:"#32CD32",red:"#FF0000",twitter:"#1da1f2",facebook:"#3B5998"},light:{accent:"#291C64",header:"#ffffffb8",submenu:"#ffffffb8",background:"#f8f8f8",backgroundLight:"#f0f0f0",border:"#e5e5e5",borderDark:"#cccccc",textDark:"#1d1d1f",textMedium:"#222222",textLight:"#888888",disabled:"#b4b4b4",shadow:"#444444",placeholder:"#b4b4b4",overlay:"#ffffffc0"},dark:{accent:"#9BECEE",header:"#000000",submenu:"#121212",background:"#121212",backgroundLight:"#1a1a1a",border:"#ffffff33",borderDark:"#666666",textDark:"#d5d1cc",textMedium:"#cccccc",textLight:"#aaaaaa",disabled:"#aaaaaa80",shadow:"#03080c",placeholder:"#666666",overlay:"#000000c0"}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){var e=Object(l.useContext)(w).darkMode;return H(H({},M[e?"dark":"light"]),M.common)},A=n(306),N=function(e){var t=Object(l.useContext)(w),n=t.darkMode,a=t.setDarkMode,r=Object(l.useCallback)((function(e){return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.awrap(a(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)}),[a]);return o.a.createElement(C.a,{style:e.style},o.a.createElement(A.a,{value:n,onChange:r,style:{transform:[{scale:.75}]}}))},W=n(4),_=n.n(W),V=function(e){var t=e.direction||"row";return o.a.createElement(C.a,_()({},e,{style:[{flexDirection:t},e.style]}))},q=function(e){var t=L(),n=t.textDark,a=t.textMedium,r=t.textLight,l=t.placeholder,c=e.fontWeight||"regular",i=e.disabled?l:e.medium?a:e.note||e.light?r:n;return o.a.createElement(P.d,_()({},e,{h1Style:[{fontFamily:c},e.h1Style],h2Style:[{fontFamily:c},e.h2Style],h3Style:[{fontFamily:c},e.h3Style],h4Style:[{fontFamily:c},e.h4Style],style:[{fontFamily:c,fontSize:e.note?13:e.caption?18:15,color:i},e.style]}))},K=function(){var e=Object(l.useContext)(w).darkMode,t=L(),n=t.textDark,a=t.white,r=e?a:n;return o.a.createElement(C.a,{style:{alignSelf:"center",alignItems:"center"}},o.a.createElement(O.b,{to:"/",style:{textDecoration:"none"}},o.a.createElement(q,{style:{fontSize:28,color:r}},"web3md.io")))},R=function(){return o.a.createElement(V,{style:{height:"100%",alignItems:"flex-end"}},o.a.createElement(N,{style:{marginLeft:D.tiny,marginRight:-8,marginBottom:-5}}))},J=function(e){var t=e.onExpand,n=L().textDark;return o.a.createElement(P.b,{type:"material-community",name:"menu",size:28,color:n,onPress:t})},Z=function(e){var t=L().header;return o.a.createElement(C.a,{style:{position:"fixed",top:0,zIndex:100,width:"100%",height:64,paddingBottom:D.small,backgroundColor:t}},o.a.createElement(V,{style:{flex:1,width:B?980:"100%",alignSelf:"center",justifyContent:"space-between",alignItems:"flex-end",paddingTop:D.small,paddingHorizontal:D.normal}},o.a.createElement(K,null),B?o.a.createElement(R,null):o.a.createElement(J,{onExpand:e.onExpandMenu})))},G=n(7),Q=n(92),U=n(47),X=function(e){return G.a.select({web:o.a.createElement(U.a,_()({contentContainerStyle:{flex:1},style:[{flex:1},e.style]},e)),default:o.a.createElement(Q.a,{style:{flex:1}},o.a.createElement(U.a,e))})},Y=function(e){return o.a.createElement(C.a,_()({},e,{style:[{width:B?980:"100%",marginLeft:"auto",marginRight:"auto",paddingHorizontal:D.normal,paddingVertical:D.huge},e.style]}))},$=function(e){return o.a.createElement(q,{fontWeight:"bold",style:[{marginBottom:D.tiny,fontSize:40},e.style]},e.text)},ee=n(31),te=function(e){var t=L(),n=t.primary,a=t.textMedium,r=t.placeholder,l=t.backgroundLight,c=e.type||"solid",i=e.size||"normal",u="small"===e.size?36:"normal"===i?45:54,s="small"===e.size?13:"normal"===i?15:18,d=e.fontWeight||"regular";return o.a.createElement(P.a,_()({},e,{disabled:e.loading||e.disabled,onPress:e.loading?void 0:e.onPress,type:c,loadingProps:{color:a},buttonStyle:[{height:u,paddingHorizontal:D.small,backgroundColor:"transparent"},e.buttonStyle],titleStyle:[{fontSize:s,fontFamily:d,color:"solid"===c?"white":e.color||a},e.titleStyle],disabledTitleStyle:[{fontSize:s,fontFamily:d,color:r},e.titleStyle],style:[{backgroundColor:"solid"===c?e.color||n:"transparent",borderColor:"red"},e.style],disabledStyle:[{backgroundColor:"solid"===c?l:"transparent"},e.disabledStyle]}))},ne=function(){var e=L().primary,t=Object(l.useContext)(w).darkMode,a=y(),r=(null==a?void 0:a.isMetaMask)||!1,c=n(t?480:481);return o.a.createElement(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},o.a.createElement(ee.a,{source:c,style:{width:r?223:200,height:r?183:200}}),o.a.createElement(te,{size:"large",color:r?"#e2761b":e,onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,f.a.awrap(a.request({method:"eth_requestAccounts"}));case 3:e.next=6;break;case 5:alert("No ethereum provider found.");case 6:case"end":return e.stop()}}),null,null,null,Promise)},title:"Connect",containerStyle:{width:B?440:"100%"},style:{marginTop:D.large,marginHorizontal:D.normal}}))},ae=function(e){var t=Object(l.useContext)(p),n=t.signer,a=t.chainId;return n?42!==a?o.a.createElement(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},o.a.createElement(q,{light:!0,style:{textAlign:"center"}},"Please switch network to\n'Kovan'")):o.a.createElement(C.a,_()({},e,{style:[{position:"absolute",top:64,right:0,bottom:0,left:0},e.style]})):o.a.createElement(ne,null)},re=function(){var e=L().background;return o.a.createElement(C.a,{style:{width:"100%",height:"100%",backgroundColor:e}},o.a.createElement(ae,null,o.a.createElement(X,null,o.a.createElement(Y,null,o.a.createElement($,{text:"Loading...",style:{fontFamily:"code"}})))),o.a.createElement(Z,null))},le=n(197),oe=function(e){return m.ethers.ContractFactory.getContract(le.address,le.abi,e)},ce=function(){var e=Object(j.g)(),t=Object(l.useState)(!1),n=r()(t,2),a=n[0],o=n[1];return{creatingPost:a,createPost:function(t,n,a){var r,l,c,i;return f.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(!(t&&n&&a)){u.next=15;break}return o(!0),u.prev=2,r=oe(a),u.next=6,f.a.awrap(r.create(t,n,m.ethers.constants.HashZero));case 6:return l=u.sent,u.next=9,f.a.awrap(l.wait());case 9:c=u.sent,i=c.events[0].args.hash,e.push("/post/"+i);case 12:return u.prev=12,o(!1),u.finish(12);case 15:case"end":return u.stop()}}),null,null,[[2,,12,15]],Promise)},fetchPost:Object(l.useCallback)((function(e,t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t){a.next=3;break}return n=oe(t),a.abrupt("return",n.getPost(e));case 3:case"end":return a.stop()}}),null,null,null,Promise)}),[])}},ie=function(e){var t=e.text,n=e.onChangeText,a=L().textDark;return o.a.createElement(P.c,{autoFocus:!0,placeholder:"Title",value:t,onChangeText:n,inputStyle:[{fontSize:40,fontFamily:"regular",paddingBottom:4,color:a},"web"===G.a.OS?{outline:"none"}:{}],containerStyle:{paddingHorizontal:0},inputContainerStyle:{borderBottomWidth:0}})},ue=function(e){var t=e.text,n=e.onChangeText,a=L().textDark;return o.a.createElement(P.c,{multiline:!0,placeholder:"Tell your story...",value:t,onChangeText:n,inputStyle:[{fontSize:15,fontFamily:"regular",lineHeight:27.5,paddingBottom:4,color:a,textAlignVertical:"top",minHeight:80,height:"100%"},"web"===G.a.OS?{outline:"none"}:{}],containerStyle:{paddingHorizontal:0,flex:1},inputContainerStyle:{borderBottomWidth:0,height:"100%"},style:{marginTop:D.small,flex:1}})},se=function(){var e=Object(l.useContext)(w),t=e.title,n=e.body,a=Object(l.useContext)(p).signer,r=L().primary,c=ce(),i=c.creatingPost,u=c.createPost;return o.a.createElement(V,{style:{width:"100%",paddingVertical:D.small,justifyContent:"flex-end"}},o.a.createElement(te,{type:"clear",title:"Publish",color:r,disabled:!t||!n,loading:i,onPress:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(u(t,n,a));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}}))},de=function(){var e=Object(l.useContext)(w),t=e.title,n=e.setTitle,a=e.body,r=e.setBody;return o.a.createElement(ae,null,o.a.createElement(X,null,o.a.createElement(Y,{style:{height:"100%",paddingBottom:0}},o.a.createElement(ie,{text:t,onChangeText:n}),o.a.createElement(ue,{text:a,onChangeText:r}),o.a.createElement(se,null))))},fe=n(305),me=n(42),he=function(){return o.a.createElement(me.a,{size:"large",style:{marginVertical:D.large}})},ge=function(e){var t=e.text,n=L().textDark,a={heading1:{fontFamily:"bold",marginTop:D.normal,marginBottom:D.tiny},heading2:{fontFamily:"bold",marginTop:D.small,marginBottom:D.tiny},heading3:{fontFamily:"bold",marginTop:D.small,marginBottom:D.tiny},heading4:{fontFamily:"bold",marginTop:D.tiny},heading5:{fontFamily:"bold",marginTop:D.tiny},heading6:{fontFamily:"bold",marginTop:D.tiny},body:{fontFamily:"regular",color:n,fontSize:15,lineHeight:27.5}};return o.a.createElement(fe.a,{onLinkPress:function(e){return window.open(e,"_blank"),!0},style:a},t)},ye=function(){return o.a.createElement(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center",marginVertical:D.huge}},o.a.createElement(q,{light:!0,style:{textAlign:"center"}},"Post Not Found"))},pe=function(){var e=Object(j.h)().hash,t=Object(l.useContext)(p).signer,n=Object(l.useState)(),a=r()(n,2),c=a[0],i=a[1],u=ce().fetchPost;return g()((function(){return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!t){n.next=6;break}return n.t0=i,n.next=4,f.a.awrap(u(e,t));case 4:n.t1=n.sent,(0,n.t0)(n.t1);case 6:case"end":return n.stop()}}),null,null,null,Promise)}),[e,t]),o.a.createElement(ae,null,o.a.createElement(X,null,o.a.createElement(Y,null,c?c.author===m.ethers.constants.AddressZero?o.a.createElement(ye,null):o.a.createElement(o.a.Fragment,null,o.a.createElement($,{text:c.title}),o.a.createElement(C.a,{style:{height:D.small}}),o.a.createElement(ge,{text:c.body})):o.a.createElement(he,null))))},be=function(){var e=Object(l.useContext)(w).load;return g()(e,[]),o.a.createElement(xe,null)},xe=function(){var e=Object(l.useState)(!1),t=r()(e,2),n=(t[0],t[1]),a=L().background;return o.a.createElement(O.a,null,o.a.createElement(l.Suspense,{fallback:o.a.createElement(re,null)},o.a.createElement(C.a,{style:{flex:1,backgroundColor:a}},o.a.createElement(j.d,null,o.a.createElement(j.b,{path:"/post/:hash"},o.a.createElement(pe,null)),o.a.createElement(j.b,{path:"/new"},o.a.createElement(de,null)),o.a.createElement(j.a,{to:"/new"})),o.a.createElement(Z,{onExpandMenu:function(){return n(!0)}}))))};function Ee(){var e=Object(c.d)({light:c.a,regular:c.b,bold:c.c});return r()(e,1)[0]?o.a.createElement(S,null,o.a.createElement(be,null)):o.a.createElement(i.a,null)}},313:function(e,t,n){e.exports=n(544)},317:function(e,t,n){(function(e){e.Buffer=n(318).Buffer}).call(this,n(35))},480:function(e,t,n){e.exports=n.p+"static/media/metamask-dark.2137a831.png"},481:function(e,t,n){e.exports=n.p+"static/media/metamask.15e22fef.png"}},[[313,1,2]]]);
//# sourceMappingURL=app.6a972276.chunk.js.map