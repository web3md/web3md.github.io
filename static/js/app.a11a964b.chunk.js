(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{306:function(e,t,n){"use strict";n.d(t,"a",(function(){return Pe}));var a=n(28),r=n.n(a),l=(n(319),n(0)),o=n.n(l),c=n(121),i=n(556),s=n(6),u=n.n(s),d=n(12),m=n.n(d),f=n(67),h=n(81),g=n.n(h),y=function(){return window.ethereum},p=o.a.createContext({provider:void 0,signer:void 0,chainId:0,address:null,ensName:null}),b=function(e){var t=e.children,n=y(),a=Object(l.useState)(1),c=r()(a,2),i=c[0],s=c[1],u=Object(l.useMemo)((function(){return new f.ethers.providers.AlchemyProvider("kovan","eRvHBkwNnm65K0KiQbNihiTyjktIGtbo")}),[]),d=Object(l.useState)(),h=r()(d,2),b=h[0],x=h[1],E=Object(l.useState)(null),v=r()(E,2),w=v[0],k=v[1],C=Object(l.useState)(null),S=r()(C,2),P=S[0],O=S[1];return g()((function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return e=new f.ethers.providers.Web3Provider(n),t.t0=x,t.next=5,m.a.awrap(e.getSigner());case 5:t.t1=t.sent,(0,t.t0)(t.t1);case 7:case"end":return t.stop()}}),null,null,null,Promise)}),[n]),Object(l.useEffect)((function(){if(n){var e=function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,m.a.awrap(n.request({method:"eth_accounts"}));case 3:(null==(e=t.sent)?void 0:e[0])&&k(e[0]);case 5:case"end":return t.stop()}}),null,null,null,Promise)},t=function(){n&&s(Number(n.chainId))};return e(),t(),n.on("accountsChanged",e),n.on("chainChanged",t),function(){null==n||n.off("accountsChanged",e),null==n||n.off("chainChanged",e)}}}),[n]),g()((function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b||!w){t.next=5;break}return t.next=3,m.a.awrap(b.provider.lookupAddress(w));case 3:e=t.sent,O(e);case 5:case"end":return t.stop()}}),null,null,null,Promise)}),[b,w]),o.a.createElement(p.Provider,{value:{provider:u,signer:b,chainId:i,address:w,ensName:P}},t)},x=(p.Consumer,n(248)),E=n(156),v=n.n(E),w=o.a.createContext({load:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},clear:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},darkMode:!1,setDarkMode:function(e){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),null,null,null,Promise)},title:"",setTitle:function(e){},body:"",setBody:function(e){}}),k=function(e){var t=e.children,n=Object(x.useColorScheme)(),a=Object(l.useState)("dark"===n),c=r()(a,2),i=c[0],s=c[1],u=Object(l.useState)(""),d=r()(u,2),f=d[0],h=d[1],g=Object(l.useState)(""),y=r()(g,2),p=y[0],b=y[1];return o.a.createElement(w.Provider,{value:{load:function(){var e;return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.getItem("dark_mode"));case 2:e=t.sent,s("true"===e);case 4:case"end":return t.stop()}}),null,null,null,Promise)},clear:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),e.next=3,m.a.awrap(v.a.removeItem("dark_mode"));case 3:case"end":return e.stop()}}),null,null,null,Promise)},darkMode:i,setDarkMode:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(v.a.setItem("dark_mode",String(e)));case 2:s(e);case 3:case"end":return t.stop()}}),null,null,null,Promise)},title:f,setTitle:h,body:p,setBody:b}},t)};w.Consumer;var C=function(e){var t=e.children;return o.a.createElement(k,null,o.a.createElement(b,null,t))},S=n(3),P=n(66),O=n(33),j=n(50),T=n(56),z=n(303),D=n.n(z),F=n(26),B=Math.round(F.a.get("window").width),M=Math.round(F.a.get("window").height),I=B>980,H=M>667?{tiny:8,small:16,normal:32,large:48,huge:64}:{tiny:6,small:12,normal:24,large:32,huge:48},L={common:{white:"#ffffff",transparent:"#ffffff00",primary:"#291C64",secondary:"#9BECEE",green:"#32CD32",red:"#FF0000",twitter:"#1da1f2",facebook:"#3B5998"},light:{accent:"#291C64",header:"#ffffffb8",submenu:"#ffffffb8",background:"#f8f8f8",backgroundLight:"#f0f0f0",border:"#e5e5e5",borderDark:"#cccccc",textDark:"#1d1d1f",textMedium:"#222222",textLight:"#888888",disabled:"#b4b4b4",shadow:"#444444",placeholder:"#b4b4b4",overlay:"#ffffffc0"},dark:{accent:"#9BECEE",header:"#000000",submenu:"#121212",background:"#121212",backgroundLight:"#1a1a1a",border:"#ffffff33",borderDark:"#666666",textDark:"#d5d1cc",textMedium:"#cccccc",textLight:"#aaaaaa",disabled:"#aaaaaa80",shadow:"#03080c",placeholder:"#666666",overlay:"#000000c0"}};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(){var e=Object(l.useContext)(w).darkMode;return A(A({},L[e?"dark":"light"]),L.common)},R=n(308),_=function(e){var t=Object(l.useContext)(w),n=t.darkMode,a=t.setDarkMode,r=Object(l.useCallback)((function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(a(e));case 2:case"end":return t.stop()}}),null,null,null,Promise)}),[a]);return o.a.createElement(S.a,{style:e.style},o.a.createElement(R.a,{value:n,onChange:r,style:{transform:[{scale:.75}]}}))},V=n(4),q=n.n(V),K=function(e){var t=e.direction||"row";return o.a.createElement(S.a,q()({},e,{style:[{flexDirection:t},e.style]}))},J=function(e){var t=W(),n=t.textDark,a=t.textMedium,r=t.textLight,l=t.placeholder,c=e.fontWeight||"regular",i=e.disabled?l:e.medium?a:e.note||e.light?r:n;return o.a.createElement(T.d,q()({},e,{h1Style:[{fontFamily:c},e.h1Style],h2Style:[{fontFamily:c},e.h2Style],h3Style:[{fontFamily:c},e.h3Style],h4Style:[{fontFamily:c},e.h4Style],style:[{fontFamily:c,fontSize:e.note?13:e.caption?18:15,color:i},e.style]}))},Z=function(e){var t=e.onPress,n=W().textDark;return o.a.createElement(T.b,{type:"material-community",name:"close",color:n,size:32,onPress:t})},G=function(e){var t,n=e.title,a=e.path,r=W(),l=r.textDark,c=r.textLight,i=Object(O.i)(a),s=null==i||null==(t=i.path)?void 0:t.startsWith(a);return o.a.createElement(P.b,{to:a,style:{textDecoration:"none",marginBottom:H.tiny}},o.a.createElement(J,{style:{fontFamily:"regular",fontSize:24,color:s?l:c}},n))},Q=function(e){var t=e.expanded,n=e.onCollapse,a=W().overlay;return o.a.createElement(D.a,{animationType:"slide",transparent:!0,visible:t},o.a.createElement(j.a,{style:{height:"100%"},onPress:n},o.a.createElement(S.a,{style:{height:"100%",justifyContent:"space-between",alignItems:"flex-end",paddingRight:H.normal,paddingBottom:H.normal,backgroundColor:a}},o.a.createElement(K,{style:{marginTop:H.small}},o.a.createElement(_,{style:{marginTop:-2}}),o.a.createElement(Z,{onPress:n})),o.a.createElement(S.a,{style:{alignItems:"flex-end"}},o.a.createElement(S.a,{style:{height:H.large}}),o.a.createElement(G,{title:"New Post",path:"/"})))))},U=function(){var e=Object(l.useContext)(w).darkMode,t=W(),n=t.textDark,a=t.white,r=e?a:n;return o.a.createElement(S.a,{style:{alignSelf:"center",alignItems:"center"}},o.a.createElement(P.b,{to:"/",style:{textDecoration:"none"}},o.a.createElement(J,{style:{fontSize:28,color:r}},"web3md.io")))},X=function(){return o.a.createElement(K,{style:{height:"100%",alignItems:"flex-end"}},o.a.createElement(_,{style:{marginLeft:H.tiny,marginRight:-8,marginBottom:-5}}))},Y=function(e){var t=e.onExpand,n=W().textDark;return o.a.createElement(T.b,{type:"material-community",name:"menu",size:28,color:n,onPress:t})},$=function(e){var t=W().header;return o.a.createElement(S.a,{style:{position:"fixed",top:0,zIndex:100,width:"100%",height:64,paddingBottom:H.small,backgroundColor:t}},o.a.createElement(K,{style:{flex:1,width:I?980:"100%",alignSelf:"center",justifyContent:"space-between",alignItems:"flex-end",paddingTop:H.small,paddingHorizontal:H.normal}},o.a.createElement(U,null),I?o.a.createElement(X,null):o.a.createElement(Y,{onExpand:e.onExpandMenu})))},ee=n(7),te=n(93),ne=n(47),ae=function(e){return ee.a.select({web:o.a.createElement(ne.a,q()({contentContainerStyle:{flex:1},style:[{flex:1},e.style]},e)),default:o.a.createElement(te.a,{style:{flex:1}},o.a.createElement(ne.a,e))})},re=function(e){return o.a.createElement(S.a,q()({},e,{style:[{width:I?980:"100%",alignSelf:"center",paddingHorizontal:H.normal,paddingVertical:H.huge},e.style]}))},le=function(e){return o.a.createElement(J,{fontWeight:"bold",style:[{marginBottom:H.tiny,fontSize:40},e.style]},e.text)},oe=n(31),ce=function(e){var t=W(),n=t.primary,a=t.textMedium,r=t.placeholder,l=t.backgroundLight,c=e.type||"solid",i=e.size||"normal",s="small"===e.size?36:"normal"===i?45:54,u="small"===e.size?13:"normal"===i?15:18,d=e.fontWeight||"regular";return o.a.createElement(T.a,q()({},e,{disabled:e.loading||e.disabled,onPress:e.loading?void 0:e.onPress,type:c,loadingProps:{color:a},buttonStyle:[{height:s,paddingHorizontal:H.small,backgroundColor:"transparent"},e.buttonStyle],titleStyle:[{fontSize:u,fontFamily:d,color:"solid"===c?"white":e.color||a},e.titleStyle],disabledTitleStyle:[{fontSize:u,fontFamily:d,color:r},e.titleStyle],style:[{backgroundColor:"solid"===c?e.color||n:"transparent",borderColor:"red"},e.style],disabledStyle:[{backgroundColor:"solid"===c?l:"transparent"},e.disabledStyle]}))},ie=function(){var e=W().primary,t=Object(l.useContext)(w).darkMode,a=y(),r=(null==a?void 0:a.isMetaMask)||!1,c=n(t?486:487);return o.a.createElement(S.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},o.a.createElement(oe.a,{source:c,style:{width:r?223:200,height:r?183:200}}),o.a.createElement(ce,{size:"large",color:r?"#e2761b":e,onPress:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=5;break}return e.next=3,m.a.awrap(a.request({method:"eth_requestAccounts"}));case 3:e.next=6;break;case 5:alert("No ethereum provider found.");case 6:case"end":return e.stop()}}),null,null,null,Promise)},title:"Connect",containerStyle:{width:I?440:"100%"},style:{marginTop:H.large,marginHorizontal:H.normal}}))},se=function(e){var t=Object(l.useContext)(p),n=t.address,a=t.chainId;return e.allowRead||n?e.allowRead||42===a?o.a.createElement(S.a,q()({},e,{style:[{position:"absolute",top:64,right:0,bottom:0,left:0},e.style]})):o.a.createElement(S.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},o.a.createElement(J,{light:!0,style:{textAlign:"center"}},"Please switch network to\n'Kovan'")):o.a.createElement(ie,null)},ue=function(){var e=W().background;return o.a.createElement(S.a,{style:{width:"100%",height:"100%",backgroundColor:e}},o.a.createElement(se,null,o.a.createElement(ae,null,o.a.createElement(re,null,o.a.createElement(le,{text:"Loading...",style:{fontFamily:"code"}})))),o.a.createElement($,null))},de=n(197),me=function(e){return new f.ethers.Contract(de.address,de.abi,e)},fe=function(){var e=Object(O.g)(),t=Object(l.useState)(!1),n=r()(t,2),a=n[0],o=n[1];return{creatingPost:a,createPost:function(t,n,a){var r,l,c,i;return m.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!(t&&n&&a)){s.next=15;break}return o(!0),s.prev=2,r=me(a),s.next=6,m.a.awrap(r.create(t,n,f.ethers.constants.HashZero));case 6:return l=s.sent,s.next=9,m.a.awrap(l.wait());case 9:c=s.sent,i=c.events[0].args.hash,e.push("/post/"+i);case 12:return s.prev=12,o(!1),s.finish(12);case 15:case"end":return s.stop()}}),null,null,[[2,,12,15]],Promise)},fetchPost:Object(l.useCallback)((function(e,t){var n;return m.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t){a.next=3;break}return n=me(t),a.abrupt("return",n.getPost(e));case 3:case"end":return a.stop()}}),null,null,null,Promise)}),[])}},he=function(e){var t=e.text,n=e.onChangeText,a=e.loading,r=W().textDark;return o.a.createElement(T.c,{autoFocus:!0,placeholder:"Title",editable:!a,value:t,onChangeText:n,inputStyle:[{width:"100%",fontSize:40,fontFamily:"regular",paddingBottom:4,color:r},"web"===ee.a.OS?{outline:"none"}:{}],containerStyle:{paddingHorizontal:0},inputContainerStyle:{borderBottomWidth:0}})},ge=function(e){var t=e.text,n=e.onChangeText,a=e.loading,r=W().textDark;return o.a.createElement(T.c,{multiline:!0,placeholder:"Tell your story...",editable:!a,value:t,onChangeText:n,inputStyle:[{fontSize:15,fontFamily:"regular",lineHeight:27.5,paddingBottom:4,color:r,textAlignVertical:"top",minHeight:80,height:"100%"},"web"===ee.a.OS?{outline:"none"}:{}],containerStyle:{paddingHorizontal:0,flex:1},inputContainerStyle:{borderBottomWidth:0,height:"100%"},style:{marginTop:H.small,flex:1}})},ye=function(e){var t=e.loading,n=e.createPost,a=Object(l.useContext)(w),r=a.title,c=a.body,i=Object(l.useContext)(p).signer,s=W().accent;return o.a.createElement(K,{style:{width:"100%",paddingVertical:H.small,justifyContent:"flex-end"}},o.a.createElement(ce,{type:"clear",title:"Publish",color:s,disabled:!r||!c,loading:t,onPress:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(n(r,c,i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise)}}))},pe=function(){var e=Object(l.useContext)(w),t=e.title,n=e.setTitle,a=e.body,r=e.setBody,c=fe(),i=c.creatingPost,s=c.createPost;return o.a.createElement(se,null,o.a.createElement(ae,null,o.a.createElement(re,{style:{height:"100%",paddingBottom:0}},o.a.createElement(he,{text:t,onChangeText:n,loading:i}),o.a.createElement(ge,{text:a,onChangeText:r,loading:i}),o.a.createElement(ye,{loading:i,createPost:s}))))},be=n(307),xe=n(42),Ee=function(){return o.a.createElement(xe.a,{size:"large",style:{marginVertical:H.large}})},ve=function(e){var t=e.text,n=W().textDark,a={heading1:{fontFamily:"bold",marginTop:H.normal,marginBottom:H.tiny},heading2:{fontFamily:"bold",marginTop:H.small,marginBottom:H.tiny},heading3:{fontFamily:"bold",marginTop:H.small,marginBottom:H.tiny},heading4:{fontFamily:"bold",marginTop:H.tiny},heading5:{fontFamily:"bold",marginTop:H.tiny},heading6:{fontFamily:"bold",marginTop:H.tiny},body:{fontFamily:"regular",color:n,fontSize:15,lineHeight:27.5}};return o.a.createElement(be.a,{onLinkPress:function(e){return window.open(e,"_blank"),!0},style:a},t)},we=function(){return o.a.createElement(S.a,{style:{flex:1,alignItems:"center",justifyContent:"center",marginVertical:H.huge}},o.a.createElement(J,{light:!0,style:{textAlign:"center"}},"Post Not Found"))},ke=function(){var e=Object(O.h)().hash,t=Object(l.useContext)(p).provider,n=Object(l.useState)(),a=r()(n,2),c=a[0],i=a[1],s=fe().fetchPost;return g()((function(){return m.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e||!t){n.next=6;break}return n.t0=i,n.next=4,m.a.awrap(s(e,t));case 4:n.t1=n.sent,(0,n.t0)(n.t1);case 6:case"end":return n.stop()}}),null,null,null,Promise)}),[e,t]),o.a.createElement(se,{allowRead:!0},o.a.createElement(ae,null,o.a.createElement(re,null,c?c.author===f.ethers.constants.AddressZero?o.a.createElement(we,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(le,{text:c.title}),o.a.createElement(S.a,{style:{height:H.small}}),o.a.createElement(ve,{text:c.body})):o.a.createElement(Ee,null))))},Ce=function(){var e=Object(l.useContext)(w).load;return g()(e,[]),o.a.createElement(Se,null)},Se=function(){var e=Object(l.useState)(!1),t=r()(e,2),n=t[0],a=t[1],c=W().background;return o.a.createElement(P.a,null,o.a.createElement(l.Suspense,{fallback:o.a.createElement(ue,null)},o.a.createElement(S.a,{style:{flex:1,backgroundColor:c}},o.a.createElement(O.d,null,o.a.createElement(O.b,{path:"/post/:hash"},o.a.createElement(ke,null)),o.a.createElement(O.b,{path:"/new"},o.a.createElement(pe,null)),o.a.createElement(O.a,{to:"/new"})),o.a.createElement($,{onExpandMenu:function(){return a(!0)}}),!I&&o.a.createElement(Q,{expanded:n,onCollapse:function(){return a(!1)}}))))};function Pe(){var e=Object(c.d)({light:c.a,regular:c.b,bold:c.c});return r()(e,1)[0]?o.a.createElement(C,null,o.a.createElement(Ce,null)):o.a.createElement(i.a,null)}},315:function(e,t,n){e.exports=n(550)},319:function(e,t,n){(function(e){e.Buffer=n(320).Buffer}).call(this,n(35))},486:function(e,t,n){e.exports=n.p+"static/media/metamask-dark.2137a831.png"},487:function(e,t,n){e.exports=n.p+"static/media/metamask.15e22fef.png"}},[[315,1,2]]]);
//# sourceMappingURL=app.a11a964b.chunk.js.map